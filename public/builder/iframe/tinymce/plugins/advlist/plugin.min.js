!function(){"use strict";var n,t,e,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(n,t,e){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";n.execCommand(r,!1,!1===e?null:{"list-style-type":e})},l=function(n){return function(){return n}},c=l(!1),s=l(!0),f=c,a=s,d=function(){return g},g=(r={fold:function(n,t){return n()},is:f,isSome:f,isNone:a,getOr:e=function(n){return n},getOrThunk:t=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:e,orThunk:t,map:d,ap:d,each:function(){},bind:d,flatten:d,exists:f,forall:a,filter:d,equals:n=function(n){return n.isNone()},equals_:n,toArray:function(){return[]},toString:l("none()")},Object.freeze&&Object.freeze(r),r),p=function(n){var t=function(){return n},e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:a,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return p(t(n))},ap:function(t){return t.fold(d,(function(t){return p(t(n))}))},each:function(t){t(n)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(n)?o:g},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(f,(function(t){return e(n,t)}))},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},m=function(n){return n&&/^(TH|TD)$/.test(n.nodeName)},y=function(n){var t=n.dom.getParent(n.selection.getNode(),"ol,ul");return function(n){return null==n?g:p(n)}(n.dom.getStyle(t,"listStyleType"))},v=function(n,t,e){var r=function(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e;return-1}(t.parents,m),o=-1!==r?t.parents.slice(0,r):t.parents,i=u.grep(o,function(n){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(r=t,(e=n).$.contains(e.getBody(),r));var e,r}}(n));return 0<i.length&&i[0].nodeName===e},O=function(n,t,e,r,o,l){var c,s,f,a,d,g,p,m,O,h,L;0<l.length?(p=t,m=e,O=r,h=o,L=l,(g=n).ui.registry.addSplitButton(p,{tooltip:m,icon:"OL"===h?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(n){n(u.map(L,(function(n){return{type:"choiceitem",value:"default"===n?"":n,icon:"list-"+("OL"===h?"num":"bull")+"-"+("disc"===n||"decimal"===n?"default":n),text:n.replace(/\-/g," ").replace(/\b\w/g,(function(n){return n.toUpperCase()}))}})))},onAction:function(){return g.execCommand(O)},onItemAction:function(n,t){i(g,h,t)},select:function(n){return y(g).map((function(t){return n===t})).getOr(!1)},onSetup:function(n){var t=function(t){n.setActive(v(g,t,h))};return g.on("NodeChange",t),function(){return g.off("NodeChange",t)}}})):(s=t,f=e,a=r,d=o,(c=n).ui.registry.addToggleButton(s,{active:!1,tooltip:f,icon:"OL"===d?"ordered-list":"unordered-list",onSetup:function(n){var t=function(t){n.setActive(v(c,t,d))};return c.on("NodeChange",t),function(){return c.off("NodeChange",t)}},onAction:function(){return c.execCommand(a)}}))};o.add("advlist",(function(n){var t,e;e=(t=n).settings.plugins?t.settings.plugins:"",-1!==u.inArray(e.split(/[ ,]/),"lists")&&(function(n){O(n,"numlist","Numbered list","InsertOrderedList","OL",function(n){var t=n.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]}(n)),O(n,"bullist","Bullet list","InsertUnorderedList","UL",function(n){var t=n.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]}(n))}(n),function(n){n.addCommand("ApplyUnorderedListStyle",(function(t,e){i(n,"UL",e["list-style-type"])})),n.addCommand("ApplyOrderedListStyle",(function(t,e){i(n,"OL",e["list-style-type"])}))}(n))}))}();