!function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n,e){for(var t="",a=0;a<e;a++)t+=n;return t},t=function(n,t){var a,o=function(n){return n.getParam("nonbreaking_wrap",!0,"boolean")}(n)||n.plugins.visualchars?'<span class="'+((a=n).plugins.visualchars&&a.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+e("&nbsp;",t)+"</span>":e("&nbsp;",t);n.undoManager.transact((function(){return n.insertContent(o)}))},a=tinymce.util.Tools.resolve("tinymce.util.VK");n.add("nonbreaking",(function(n){var e,o;(function(n){n.addCommand("mceNonBreaking",(function(){t(n,1)}))})(n),function(n){n.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return n.execCommand("mceNonBreaking")}}),n.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return n.execCommand("mceNonBreaking")}})}(n),o=function(n){var e=n.getParam("nonbreaking_force_tab",0);return"boolean"==typeof e?!0===e?3:0:e}(e=n),0<o&&e.on("keydown",(function(n){if(n.keyCode===a.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),t(e,o)}}))}))}();